#Week 2 Recon and Enumeration Study Notes

	Active and passive reconnaissance 
--
Active reconnaissance involves actively interacting with the target. For example, a hacker performing active reconnaissance on a server might send unusual packets to that server, to try and get a response containing information.

Passive reconnaissance does NOT involve actively interacting with the target. Instead of sending packets to a server, a hacker might observe the traffic the server sends and receives, instead of sending traffic themselves.
Passive reconnaissance techniques
OSINT

Open-source intelligence (OSINT) is a reconnaissance that uses publicly available information. There is an alarming amount of information floating around the internet that can be of use to threat actors. For example, a threat targeting an organization might collect information on employees such as their name, role, social media accounts, email addresses, etc. They might also be able to find out technical information, from what hardware vendors the organization uses, to what brand of elevators they have in their office building.

OSINT relies heavily on social media platforms and search engines to find information.
Footprinting (passive version)

Footprinting (sometimes also referred to as “fingerprinting”) is the process of determining what software a network host is running. This is very useful information for an attacker, and footprinting can be done both passively and actively. Passive footprinting usually involves observing the traffic that a target receives, and how it responds to it.
Active reconnaissance techniques
Social engineering

Social engineering can be a useful tool for reconnaissance, in some ways serving as an active counterpart to OSINT. For example, OSINT might use publicly posted information on an employee’s social media, while social engineering might involve posing as a fellow employee in order to gain information.

The ethics of using social engineering in a penetration test can be complicated, but most real threat actors have no such qualms, and it’s important for personnel to be able to defend themselves against social engineering attacks.
Footprinting (active version)

The active version of footprinting involves sending data to the target, and observing how it responds. One common example of this is port scanning with tools like Nmap, which is a powerful and versatile tool for pen testing. Active footprinting provides a more detailed and complete picture of a network or host’s configuration, but well-configured environments will attempt to detect and alert when active scanning takes place.
War driving

War Driving is a hybrid digital/physical technique where an attacker will drive around, scanning for wifi networks. In pen testing, this can be used to create maps of network coverage, and search for insecure networks. The information collected from this can be used for wifi attacks like Rogue Access Points or Evil Twin Attacks.
Drones and UAVs

As drones and UAVs get cheaper and more accessible, they become an increasingly popular tools for hackers. One of the simplest uses for drones is war flying, which is just wardriving but using a drone instead of a car. This has the advantage of allowing the hacker performing the reconnaissance to stay further away from security guards and cameras.

Drones can also be used to deliver physical devices to otherwise inaccessible places or drop malicious USB drives around an area, hoping someone will pick one up and plug it in.

---

	Open-source intelligence (OSINT)
	 -Social media 
	 -Job boards 
	 -Scan code repositories 
	 -Cached pages 
	
Cryptographic flaws 
	Cryptographic failures are where attackers often target sensitive data, such as passwords, credit card numbers, and personal information, when you do not properly protect them. This is the root cause of sensitive data exposure
  Example attack scenarios: https://www.pentestpeople.com/blog-posts/owasp-top-ten-cryptographic-failures

Password dumps 
	https://www.proofpoint.com/us/blog/information-protection/password-cracking-techniques-used-in-cyber-attacks

Network reconnaissance 
 There are two main types of network footprinting: passive and active.

    Passive footprinting: Gathering information from publicly available sources such as websites, news articles, and company profiles
    Active footprinting: Using more intrusive methods to access sensitive data, such as hacking into systems or applying social engineering techniques
    https://www.eccouncil.org/cybersecurity-exchange/ethical-hacking/basics-footprinting-reconnaissance/
	
Protocol scanning
	 This is typically done using:

    Static analysis – Inspecting an application’s code to estimate the way it behaves while running. These tools can scan the entirety of the code in a single pass.
    Dynamic analysis – Inspecting an application’s code in a running state. This is a more practical way of scanning, as it provides a real-time view into an application’s performance.
    LinkedIn Learning Video: https://www.linkedin.com/learning/offensive-penetration-testing/scanning-with-nmap?u=87770946

TCP / UDP
  Most network applications today run on top of TCP or UDP. These protocols are the transport mechanism used by such applications as FTP, Simple Mail Transfer Protocol (SMTP), Dynamic Host Configuration Protocol (DHCP), and HTTP. TCP is a connection-oriented protocol, which means it provides reliability by establishing a connection between hosts. In contrast, UDP is a connectionless protocol; it does not provide reliability.
  https://www.ciscopress.com/articles/article.asp?p=469623&seqNum=3

	Certificate transparency (CT) logs 
   CT is a system for logging and monitoring the issuance of TLS certificates. CT greatly enhances everyone's ability to monitor and study certificate issuance, and these capabilities have led to numerous improvements to the CA ecosystem and Web security. As a result, CT is rapidly becoming critical infrastructure. 

	Information disclosure
  https://portswigger.net/web-security/information-disclosure/exploiting

	Search engine analysis/ enumeration
  https://sites.google.com/view/pentesting101/pentesters-guide/enumeration/subdomain-enumeration

	Network sniffing

	Internet of Things (IoT) and operational technology (OT) protocols
  https://www.iotpentestingguide.com/
  https://www.threatintelligence.com/blog/ot-scada-penetration-testing

	Banner grabbing
  Banner grabbing is a reconnaissance technique that retrieves a software banner information. This banner usually contains important information about a network service, including but not limited to, it's software name and version. FTP, Web, SSH, and SMTP servers often expose vital information about the software they are running in their banner.
  https://www.putorius.net/banner-grabbing.html

	Hypertext Markup Language (HTML) scraping
  Lots of resource, but this is in depth (how-its-done): https://gabri-albini.medium.com/python-webscraping-best-practices-for-an-efficient-but-safe-respectful-web-scraping-171c4a474806

Given a scenario, apply enumeration techniques.	
	Operating system (OS) fingerprinting 
	Service discovery
	Protocol enumeration
	DNS enumeration
	Directory enumeration
	Host discovery
	Share enumeration
	Local user enumeration
	Email account enumeration
	Wireless enumeration
	Permission enumeration 
	Secrets enumeration
	Cloud access keys 
	Passwords
	API keys
	Session tokens
	Attack path mapping
	Web application firewall (WAF) enumeration
	Origin address
	Web crawling
	Manual enumeration
	Robots.txt
	Sitemap 
	Platform plugins 

https://luxequality.com/blog/api-penetration-testing/
https://hackerwhite.com/vulnerability101/external-network/network-enumeration-and-discovery-vulnerability

Given a scenario, modify scripts for reconnaissance and enumeration.	
	Information gathering 
	Data manipulation
	Scripting languages
	Bash 
	Python 
	PowerShell 
	Logic constructs
	Loops
	Conditionals
	Boolean operator
	String operator
	Arithmetic operator
	Use of libraries, functions, and classes

https://hausec.com/pentesting-cheatsheet/
https://infinitelogins.com/2020/06/17/enumerating-smb-for-pentesting/

Given a scenario, use the appropriate tools for reconnaissance and enumeration.	
	Wayback Machine - Internet Archive https://web.archive.org/
	Maltego - publicly available information, uncovering relationships and patterns between entities
	Recon-ng - one stop shop for gathering critical information from web-based sources
	Shodan - Sentient Hyper-Optimized Data Access  - https://www.computerweekly.com/tip/Shodan-search-engine-for-penetration-tests-How-to
	SpiderFoot - OSINT reconnaissance tool is a handy tool that helps you gather information from the internet
	WHOIS - returns information on web sources, including domain ownership, registration history, and network architecture details
	nslookup/dig - https://www.youtube.com/watch?v=rQ-dc5kwRtU&themeRefresh=1
	Censys.io - provides more information about IPv4 hosts, websites, certifications, and other stored information.
	Hunter.io - passive reconnaissance tool used in email discovery and verification
	DNSdumpster -  passive scanning tool to obtain information about domains, block addresses, emails, etc
	Amass -  attack surface management for an organization’s web sites and applications. It used during penetration testing for network mapping of attack surfaces and external asset discovery by integrating various existing security tools. 
  https://owasp.org/www-project-developer-guide/draft/verification/tools/amass/
	Nmap - https://nmap.org/book/toc.html
	Nmap Scripting Engine (NSE) - [[-script option ]] https://nmap.org/book/nse-usage.html
	theHarvester - OSINT for emails, subdomains, etc https://www.edge-security.com
	WiGLE.net - a website that consolidates location and other data on wireless networks around the world.
	InSSIDer - wifi tool;  inSSIDer helps to remove that frustration by showing you exactly how your network is configured, how neighboring Wi-Fi networks are impacting yours, and gives suggestions.
	OSINTframework.com 
	Wireshark/tcpdump - https://www.techtarget.com/searchnetworking/tutorial/How-to-capture-and-analyze-traffic-with-tcpdump
	Aircrack-ng - wifi network security and hacking
